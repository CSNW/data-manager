{"version":3,"file":"DataManager.min.js","sources":["DataManager.js"],"names":["_","RSVP","d3","global","quickKey","row","keys","values","key","i","l","length","push","join","Store","this","cache","types","clone","_cast","generateCast","_map","generateMap","DataManager","Number","value","Boolean","isString","toUpperCase","String","isUndefined","Date","load","path","Promise","resolve","reject","csv","get","err","rows","processRows","store","castFn","mapFn","raw","compact","flatten","map","index","call","reduce","memo","options","isFunction","details","simple","complex","each","option","to","isObject","defaults","category","concat","columns","from","mapped","omit","results","prev_results","categories","new_row","extend","type","cast","prototype","bind","paths","isArray","loading","filename","loaded","defer","ex","then","all","pick","query","Query","promise","data","pluck","preprocess","filter","groupBy","postprocess","series","apply","arguments","catch","finally","fn","predicate","matcher","grouped","meta","object","approaches","avg","column","sum","result","reduced","iterator","byColumn","approach","groups","group","createSeries","find","series_values","name","description","lookup","item","operation","logical","comparison","isQuery","isEqual","$and","$or","$not","$nor","$gt","$gte","$lt","$lte","$in","indexOf","$ne","$nin","obj","parts","split","part"],"mappings":"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"}